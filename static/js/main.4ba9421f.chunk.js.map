{"version":3,"sources":["components/Phonebook/Phonebook.styles.jsx","redux/operations/contacts-operations.js","redux/selectors/contacts-selectors.js","components/Phonebook/Phonebook.jsx","components/Contacts/Contacts.styles.jsx","components/Contacts/Contacts.jsx","components/Filter/Filter.styles.jsx","redux/actions/contacts-actions.js","components/Filter/Filter.jsx","components/Container/Container.styled.jsx","components/Container/Container.jsx","components/Registration/Registration.styled.jsx","redux/auth/auth-operations.js","components/Registration/Registration.jsx","components/Login/Login.styled.jsx","components/Login/Login.jsx","components/AppBar/Navigation.styled.jsx","redux/auth/auth-selectors.js","components/AppBar/Navigation.jsx","components/AppBar/AuthNav.jsx","components/AppBar/UserMenu.styled.jsx","components/AppBar/UserMenu.jsx","components/AppBar/AppBar.jsx","components/PrivateRoute.jsx","components/PublicRoute.jsx","App.jsx","redux/reducers/contacts-reducers.js","redux/auth/auth-slice.js","redux/store/store.js","index.js"],"names":["Wrapper","styled","div","Header","h2","InputName","p","SubmitButton","button","getContacts","a","axios","get","contacts","data","defaults","baseURL","fetchContacts","createAsyncThunk","addContact","newContact","post","deleteContact","id","delete","contactsItems","state","items","filterItems","filter","visibleContacts","normalizedFilter","toLowerCase","contact","name","includes","Phonebook","dispatch","useDispatch","useSelector","useState","setName","number","setNumber","useEffect","contactsOperations","handleChange","e","target","value","eraseInputs","onSubmit","preventDefault","randomId","uuidv4","find","alert","type","pattern","title","required","onChange","List","ul","Item","li","DeleteButton","Contacts","map","onClick","removeContact","changeFilter","createAction","Filter","contactsActions","autoComplete","Container","children","token","headers","common","Authorization","register","credentials","logIn","logOut","fetchCurrentUser","_","thunkAPI","getState","persistedToken","auth","rejectWithValue","Registration","email","setEmail","password","setPassword","authOperation","placeholder","Login","StyledNavLink","NavLink","StyledNav","nav","getIsLoggedIn","isLoggedIn","getUsername","user","getIsFetchingCurrentUser","isFetchingCurrentUser","Navigation","exact","to","className","activeClassName","AuthNav","UserMenu","round","size","src","AppBar","PrivateRoute","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","App","refreshingCurrentUser","fallback","path","length","createReducer","fulfilled","action","payload","isLoading","pending","rejected","error","actions","combineReducers","initialState","authSlice","createSlice","extraReducers","authOperations","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","contactsReducer","persistReducer","authReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.4ba9421f.chunk.js","sourcesContent":["import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  text-align: center;\n`\nexport const Header = styled.h2`\n  color: #4b3b40;\n`\nexport const InputName = styled.p`\n  color: #82735c;\n  margin: 0;\n`\nexport const SubmitButton = styled.button`\n  background-color: #9db17c;\n  color: white;\n  margin-top: 20px;\n  cursor: pointer;\n`\n","import axios from 'axios'\nimport { createAsyncThunk } from '@reduxjs/toolkit'\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com'\n\nasync function getContacts() {\n  const contacts = await axios.get(`/contacts`)\n  return contacts.data\n}\n\nexport const fetchContacts = createAsyncThunk(\n  'contacts/fetchContacts',\n  async () => {\n    const contacts = await getContacts()\n    return contacts\n  },\n)\n\nexport const addContact = createAsyncThunk(\n  'contacts/addContact',\n  async (newContact) => {\n    await axios.post(`/contacts`, newContact)\n    return await getContacts()\n  },\n)\n\nexport const deleteContact = createAsyncThunk(\n  'contacts/deleteContact',\n  async (id) => {\n    await axios.delete(`/contacts/${id}`)\n    return await getContacts()\n  },\n)\n","export const contactsItems = (state) => state.contacts.items\nexport const filterItems = (state) => state.contacts.filter\n\nexport const visibleContacts = (state) => {\n  const contacts = contactsItems(state)\n  const filter = filterItems(state)\n\n  const normalizedFilter = filter.toLowerCase()\n  return contacts.filter((contact) =>\n    contact.name.toLowerCase().includes(normalizedFilter),\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Header, SubmitButton, InputName, Wrapper } from './Phonebook.styles'\nimport PropTypes from 'prop-types'\nimport { v4 as uuidv4 } from 'uuid'\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as contactsOperations from '../../redux/operations/contacts-operations'\nimport { contactsItems } from '../../redux/selectors/contacts-selectors'\n\nfunction Phonebook() {\n  const dispatch = useDispatch()\n  const contacts = useSelector(contactsItems)\n\n  const [name, setName] = useState('')\n  const [number, setNumber] = useState('')\n\n  useEffect(() => {\n    dispatch(contactsOperations.fetchContacts())\n  }, [dispatch])\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    switch (name) {\n      case 'name':\n        setName(value)\n        break\n      case 'number':\n        setNumber(value)\n        break\n\n      default:\n        break\n    }\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    const randomId = uuidv4()\n    if (\n      contacts.find(\n        (contact) => contact.name.toLowerCase() === name.toLowerCase(),\n      )\n    ) {\n      return alert(`${name} already exists in your contacts`)\n    }\n    dispatch(contactsOperations.addContact({ id: randomId, name, number }))\n    eraseInputs()\n  }\n\n  const eraseInputs = () => {\n    setName('')\n    setNumber('')\n  }\n\n  return (\n    <Wrapper>\n      <Header></Header>\n      <form onSubmit={handleSubmit}>\n        <InputName>Name</InputName>\n        <input\n          type=\"text\"\n          name=\"name\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n          required\n          onChange={handleChange}\n          value={name}\n        />\n        <InputName>Number</InputName>\n        <input\n          type=\"tel\"\n          name=\"number\"\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n          required\n          onChange={handleChange}\n          value={number}\n        />\n        <br />\n        <SubmitButton type=\"submit\">Add contact</SubmitButton>\n      </form>\n    </Wrapper>\n  )\n}\n\nPhonebook.propTypes = {\n  name: PropTypes.string,\n  onChange: PropTypes.func,\n  onSubmit: PropTypes.func,\n  number: PropTypes.node,\n}\n\nexport default Phonebook\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  text-align: center;\n`\nexport const List = styled.ul`\n  color: #4b3b40;\n`\nexport const Item = styled.li`\n  color: #82735c;\n  list-style: none;\n`\nexport const DeleteButton = styled.button`\n  background-color: #9db17c;\n  color: white;\n  margin-left: 20px;\n  margin-top: 10px;\n  cursor: pointer;\n`\nexport const Header = styled.h2`\n  color: #4b3b40;\n`\n","import React from 'react'\nimport { Wrapper, List, Item, DeleteButton, Header } from './Contacts.styles'\nimport PropTypes from 'prop-types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { visibleContacts } from '../../redux/selectors/contacts-selectors'\nimport * as contactsOperations from '../../redux/operations/contacts-operations'\n\nfunction Contacts() {\n  const dispatch = useDispatch()\n  const contacts = useSelector(visibleContacts)\n\n  const removeContact = (id) => {\n    dispatch(contactsOperations.deleteContact(id))\n  }\n\n  return (\n    <Wrapper>\n      <Header>Contacts</Header>\n      <List>\n        {contacts.map(({ id, name, number }) => (\n          <Item key={id}>\n            {name}: {number}\n            <DeleteButton type=\"button\" onClick={() => removeContact(id)}>\n              Delete contact\n            </DeleteButton>\n          </Item>\n        ))}\n      </List>\n    </Wrapper>\n  )\n}\n\nContacts.propTypes = {\n  id: PropTypes.node,\n  name: PropTypes.string,\n  number: PropTypes.number,\n}\n\nexport default Contacts\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  text-align: center;\n`\nexport const Header = styled.p`\n  color: #4b3b40;\n  margin-top: 10px;\n  margin-bottom: 0px;\n`\n","import { createAction } from '@reduxjs/toolkit'\n\nexport const changeFilter = createAction('contacts/changeFilter')\n","import React from 'react'\nimport { Header, Wrapper } from './Filter.styles'\nimport PropTypes from 'prop-types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as contactsActions from '../../redux/actions/contacts-actions'\nimport { filterItems } from '../../redux/selectors/contacts-selectors'\n\nfunction Filter() {\n  const dispatch = useDispatch()\n  const filter = useSelector(filterItems)\n\n  const handleChange = (e) => {\n    dispatch(contactsActions.changeFilter(e.target.value))\n  }\n\n  return (\n    <Wrapper>\n      <Header>Find contacts by name</Header>\n      <input\n        type=\"text\"\n        name=\"filter\"\n        onChange={handleChange}\n        value={filter}\n        pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n        title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n        required\n        autoComplete=\"off\"\n      />\n    </Wrapper>\n  )\n}\n\nFilter.propTypes = {\n  filter: PropTypes.string,\n  onChange: PropTypes.func,\n}\n\nexport default Filter\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  margin: auto;\n  max-width: 1280px;\n`\n","import React from 'react'\nimport { Wrapper } from './Container.styled'\nimport PropTypes from 'prop-types'\n\nfunction Container({ children }) {\n  return <Wrapper>{children}</Wrapper>\n}\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Container\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  text-align: center;\n`\nexport const Header = styled.h2`\n  color: #4b3b40;\n`\nexport const InputName = styled.p`\n  color: #82735c;\n  margin: 0;\n`\nexport const SubmitButton = styled.button`\n  background-color: #9db17c;\n  color: white;\n  margin-top: 20px;\n  cursor: pointer;\n`\n","import axios from 'axios'\nimport { createAsyncThunk } from '@reduxjs/toolkit'\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com'\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = ''\n  },\n}\n\nexport const register = createAsyncThunk(\n  'auth/register',\n  async (credentials) => {\n    try {\n      const { data } = await axios.post('/users/signup', credentials)\n      token.set(data.token)\n      return data\n    } catch (error) {}\n  },\n)\n\nexport const logIn = createAsyncThunk('auth/login', async (credentials) => {\n  try {\n    const { data } = await axios.post('/users/login', credentials)\n    token.set(data.token)\n    return data\n  } catch (error) {}\n})\n\nexport const logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    await axios.post('/users/logout')\n    token.unset()\n  } catch (error) {}\n})\n\nexport const fetchCurrentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState()\n    const persistedToken = state.auth.token\n\n    if (!persistedToken) {\n      return thunkAPI.rejectWithValue()\n    }\n    token.set(persistedToken)\n\n    try {\n      const { data } = await axios.get('/users/current')\n      return data\n    } catch (error) {}\n  },\n)\n","import React, { useState } from 'react'\nimport { Header, SubmitButton, InputName, Wrapper } from './Registration.styled'\nimport { useDispatch } from 'react-redux'\nimport * as authOperation from '../../redux/auth/auth-operations'\n\nfunction Registration() {\n  const dispatch = useDispatch()\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    switch (name) {\n      case 'name':\n        setName(value)\n        break\n      case 'email':\n        setEmail(value)\n        break\n      case 'password':\n        setPassword(value)\n        break\n      default:\n        break\n    }\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    dispatch(authOperation.register({ name, email, password }))\n    eraseInputs()\n  }\n\n  const eraseInputs = () => {\n    setName('')\n    setEmail('')\n    setPassword('')\n  }\n\n  return (\n    <Wrapper>\n      <Header>Registration</Header>\n      <form onSubmit={handleSubmit}>\n        <InputName>Name</InputName>\n        <input\n          type=\"text\"\n          name=\"name\"\n          required\n          onChange={handleChange}\n          value={name}\n        />\n        <InputName>Email</InputName>\n        <input\n          type=\"email\"\n          name=\"email\"\n          required\n          onChange={handleChange}\n          value={email}\n          placeholder=\"example@mail.com\"\n        />\n        <InputName>Password</InputName>\n        <input\n          type=\"password\"\n          name=\"password\"\n          required\n          onChange={handleChange}\n          value={password}\n        />\n        <br />\n        <SubmitButton type=\"submit\">Register</SubmitButton>\n      </form>\n    </Wrapper>\n  )\n}\n\nexport default Registration\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  text-align: center;\n`\nexport const Header = styled.h2`\n  color: #4b3b40;\n`\nexport const InputName = styled.p`\n  color: #82735c;\n  margin: 0;\n`\nexport const SubmitButton = styled.button`\n  background-color: #9db17c;\n  color: white;\n  margin-top: 20px;\n  cursor: pointer;\n`\n","import React, { useState } from 'react'\nimport { Header, SubmitButton, InputName, Wrapper } from './Login.styled'\nimport { useDispatch } from 'react-redux'\nimport * as authOperation from '../../redux/auth/auth-operations'\n\nfunction Login() {\n  const dispatch = useDispatch()\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    switch (name) {\n      case 'email':\n        setEmail(value)\n        break\n      case 'password':\n        setPassword(value)\n        break\n      default:\n        break\n    }\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    dispatch(authOperation.logIn({ email, password }))\n    eraseInputs()\n  }\n\n  const eraseInputs = () => {\n    setEmail('')\n    setPassword('')\n  }\n  return (\n    <Wrapper>\n      <Header>Login</Header>\n      <form onSubmit={handleSubmit}>\n        <InputName>Email</InputName>\n        <input\n          type=\"email\"\n          name=\"email\"\n          required\n          onChange={handleChange}\n          value={email}\n          placeholder=\"example@mail.com\"\n        />\n        <InputName>Password</InputName>\n        <input\n          type=\"password\"\n          name=\"password\"\n          required\n          onChange={handleChange}\n          value={password}\n        />\n        <br />\n        <SubmitButton type=\"submit\">Log in</SubmitButton>\n      </form>\n    </Wrapper>\n  )\n}\n\nexport default Login\n","import styled from '@emotion/styled'\nimport { NavLink } from 'react-router-dom'\n\nexport const StyledNavLink = styled(NavLink)`\n  &.link {\n    text-decoration: none;\n    color: black;\n    margin: 10px;\n    text-shadow: 1px 1px grey;\n  }\n  &.activeLink {\n    color: #9db17c;\n    font-size: 20px;\n  }\n`\nexport const StyledNav = styled.nav`\n  /* text-align: center; */\n  padding: 10px;\n  border-bottom: solid 1px black;\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n`\n","export const getIsLoggedIn = (state) => state.auth.isLoggedIn\nexport const getUsername = (state) => state.auth.user.name\nexport const getUserEmail = (state) => state.auth.user.email\nexport const getUserToken = (state) => state.auth.user.token\nexport const getIsFetchingCurrentUser = (state) =>\n  state.auth.isFetchingCurrentUser\n","import React from 'react'\nimport { StyledNavLink } from './Navigation.styled'\nimport { useSelector } from 'react-redux'\nimport { getIsLoggedIn } from '../../redux/auth/auth-selectors'\n\nfunction Navigation() {\n  const isLoggedIn = useSelector(getIsLoggedIn)\n  return (\n    <>\n      <StyledNavLink exact to=\"/\" className=\"link\" activeClassName=\"activeLink\">\n        Home\n      </StyledNavLink>\n      {isLoggedIn && (\n        <StyledNavLink\n          to=\"/contacts\"\n          className=\"link\"\n          activeClassName=\"activeLink\"\n        >\n          Contacts\n        </StyledNavLink>\n      )}\n    </>\n  )\n}\n\nexport default Navigation\n","import React from 'react'\nimport { StyledNavLink } from './Navigation.styled'\n\nfunction AuthNav() {\n  return (\n    <>\n      <StyledNavLink to=\"/login\" className=\"link\" activeClassName=\"activeLink\">\n        Login\n      </StyledNavLink>\n      <StyledNavLink\n        to=\"/register\"\n        className=\"link\"\n        activeClassName=\"activeLink\"\n      >\n        Register\n      </StyledNavLink>\n    </>\n  )\n}\n\nexport default AuthNav\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n`\nexport const InputName = styled.p`\n  color: #82735c;\n  margin-right: 5px;\n`\nexport const SubmitButton = styled.button`\n  background-color: #9db17c;\n  color: white;\n  cursor: pointer;\n  margin-left: 10px;\n`\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getUsername } from '../../redux/auth/auth-selectors'\nimport { Wrapper, SubmitButton, InputName } from './UserMenu.styled'\nimport Avatar from 'react-avatar'\nimport { logOut } from '../../redux/auth/auth-operations.js'\n\nfunction UserMenu() {\n  const dispatch = useDispatch()\n  const name = useSelector(getUsername)\n\n  return (\n    <Wrapper>\n      <InputName>Welcome, {name}!</InputName>\n      <Avatar round size=\"30\" src=\"https://picsum.photos/200/300\" />\n      <SubmitButton onClick={() => dispatch(logOut())}>Logout</SubmitButton>\n    </Wrapper>\n  )\n}\n\nexport default UserMenu\n","import React from 'react'\nimport Navigation from './Navigation'\nimport AuthNav from './AuthNav'\nimport UserMenu from './UserMenu'\nimport { StyledNav } from './Navigation.styled'\nimport { useSelector } from 'react-redux'\nimport { getIsLoggedIn } from '../../redux/auth/auth-selectors'\n\nfunction AppBar() {\n  const isLoggedIn = useSelector(getIsLoggedIn)\n  return (\n    <StyledNav>\n      <Navigation></Navigation>\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </StyledNav>\n  )\n}\n\nexport default AppBar\n","import { useSelector } from 'react-redux'\nimport { Route, Redirect } from 'react-router-dom'\nimport { getIsLoggedIn } from '../redux/auth/auth-selectors'\n\nfunction PrivateRoute({ children, redirectTo = '/', ...routeProps }) {\n  const isLoggedIn = useSelector(getIsLoggedIn)\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  )\n}\n\nexport default PrivateRoute\n","import { useSelector } from 'react-redux'\nimport { Route, Redirect } from 'react-router-dom'\nimport { getIsLoggedIn } from '../redux/auth/auth-selectors'\n\nfunction PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = '/',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(getIsLoggedIn)\n  const shouldRedirect = isLoggedIn && restricted\n\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  )\n}\n\nexport default PublicRoute\n","import React, { Suspense, useEffect } from 'react'\nimport { Switch } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport Phonebook from './components/Phonebook/Phonebook'\nimport Contacts from './components/Contacts/Contacts'\nimport Filter from './components/Filter/Filter'\nimport Container from './components/Container/Container'\nimport Registration from './components/Registration/Registration'\nimport Login from './components/Login/Login'\nimport AppBar from './components/AppBar/AppBar'\nimport { contactsItems } from './redux/selectors/contacts-selectors'\nimport { fetchCurrentUser } from './redux/auth/auth-operations'\nimport { getIsFetchingCurrentUser } from './redux/auth/auth-selectors'\n\nimport PrivateRoute from './components/PrivateRoute'\nimport PublicRoute from './components/PublicRoute'\n\nfunction App() {\n  const contacts = useSelector(contactsItems)\n  const dispatch = useDispatch()\n  const refreshingCurrentUser = useSelector(getIsFetchingCurrentUser)\n\n  useEffect(() => {\n    dispatch(fetchCurrentUser())\n  }, [dispatch])\n\n  return (\n    <Container>\n      {!refreshingCurrentUser && (\n        <>\n          <AppBar />\n\n          <Suspense fallback={<div>Loading...</div>}>\n            <Switch>\n              <PublicRoute exact path=\"/\" restricted>\n                Welcome to Phonebook app! Phonebook app allows you to save your\n                contact names, phone numbers and get them any time by logging in\n                to your account.\n              </PublicRoute>\n\n              <PublicRoute path=\"/register\" restricted>\n                <Registration />\n              </PublicRoute>\n\n              <PublicRoute path=\"/login\" redirectTo=\"/contacts\" restricted>\n                <Login />\n              </PublicRoute>\n\n              <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n                <Phonebook />\n                {contacts.length > 0 && (\n                  <>\n                    <Filter />\n                    <Contacts />\n                  </>\n                )}\n              </PrivateRoute>\n            </Switch>\n          </Suspense>\n        </>\n      )}\n    </Container>\n  )\n}\n\nexport default App\n","import { createReducer } from '@reduxjs/toolkit'\nimport { combineReducers } from 'redux'\nimport { changeFilter } from '../actions/contacts-actions'\nimport {\n  fetchContacts,\n  addContact,\n  deleteContact,\n} from '../operations/contacts-operations'\n\nconst items = createReducer([], {\n  [fetchContacts.fulfilled]: (_, action) => action.payload,\n  [addContact.fulfilled]: (_, action) => action.payload,\n  [deleteContact.fulfilled]: (_, action) => action.payload,\n})\n\nconst isLoading = createReducer(false, {\n  [fetchContacts.pending]: () => true,\n  [fetchContacts.fulfilled]: () => false,\n  [fetchContacts.rejected]: () => false,\n})\n\nconst error = createReducer(null, {\n  [fetchContacts.rejected]: (_, action) => action.payload,\n  [fetchContacts.fulfilled]: () => null,\n\n  [addContact.rejected]: (_, action) => action.payload,\n  [addContact.pending]: () => null,\n\n  [deleteContact.rejected]: (_, action) => action.payload,\n  [deleteContact.pending]: () => null,\n})\n\nconst filter = createReducer('', {\n  [changeFilter]: (_, actions) => actions.payload,\n})\n\nexport default combineReducers({\n  items,\n  isLoading,\n  filter,\n  error,\n})\n","import { createSlice } from '@reduxjs/toolkit'\nimport * as authOperations from './auth-operations'\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingCurrentUser: false,\n}\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user\n      state.token = action.payload.token\n      state.isLoggedIn = true\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user\n      state.token = action.payload.token\n      state.isLoggedIn = true\n    },\n    [authOperations.logOut.fulfilled](state) {\n      state.user = initialState.user\n      state.token = initialState.token\n      state.isLoggedIn = initialState.isLoggedIn\n    },\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isFetchingCurrentUser = true\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload\n      state.isLoggedIn = true\n      state.isFetchingCurrentUser = false\n    },\n    [authOperations.fetchCurrentUser.rejected](state) {\n      state.isFetchingCurrentUser = false\n    },\n  },\n})\n\nexport default authSlice.reducer\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit'\nimport contactsReducer from '../reducers/contacts-reducers'\nimport authReducer from '../auth/auth-slice'\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n]\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n}\n\nexport const store = configureStore({\n  reducer: {\n    contacts: contactsReducer,\n    // auth: authReducer,\n    auth: persistReducer(authPersistConfig, authReducer),\n  },\n  middleware,\n  devTools: process.env.NODE_ENV !== 'production',\n})\n\nexport const persistor = persistStore(store)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App.jsx'\nimport { store, persistor } from './redux/store/store'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter } from 'react-router-dom'\nimport { PersistGate } from 'redux-persist/integration/react'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}