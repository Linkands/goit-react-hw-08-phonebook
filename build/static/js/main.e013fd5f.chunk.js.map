{"version":3,"sources":["components/Phonebook/Phonebook.styles.jsx","redux/operations/contacts-operations.js","redux/selectors/contacts-selectors.js","components/Phonebook/Phonebook.jsx","components/Contacts/Contacts.styles.jsx","components/Contacts/Contacts.jsx","components/Filter/Filter.styles.jsx","redux/actions/contacts-actions.js","components/Filter/Filter.jsx","components/Container/Container.styled.jsx","components/Container/Container.jsx","components/Registration/Registration.styled.jsx","redux/auth/auth-operations.js","components/Registration/Registration.jsx","components/Login/Login.styled.jsx","components/Login/Login.jsx","components/AppBar/Navigation.styled.jsx","redux/auth/auth-selectors.js","components/AppBar/Navigation.jsx","components/AppBar/AuthNav.jsx","components/AppBar/UserMenu.styled.jsx","components/AppBar/UserMenu.jsx","components/AppBar/AppBar.jsx","components/Home/Home.styled.jsx","components/Home/Home.jsx","components/PrivateRoute.jsx","components/PublicRoute.jsx","App.jsx","redux/reducers/contacts-reducers.js","redux/auth/auth-slice.js","redux/store/store.js","index.js"],"names":["Wrapper","styled","div","InputWrapper","h2","p","button","Input","input","getContacts","a","axios","get","contacts","data","defaults","baseURL","fetchContacts","createAsyncThunk","addContact","newContact","post","deleteContact","id","delete","contactsItems","state","items","filterItems","filter","visibleContacts","normalizedFilter","toLowerCase","contact","name","includes","Phonebook","dispatch","useDispatch","useSelector","useState","setName","number","setNumber","useEffect","contactsOperations","handleChange","e","target","value","eraseInputs","onSubmit","preventDefault","randomId","uuidv4","find","alert","toast","success","type","title","required","onChange","placeholder","pattern","Button","variant","color","List","ul","Item","li","Contacts","map","onClick","removeContact","cursor","size","changeFilter","createAction","Filter","contactsActions","autoComplete","Container","children","className","token","headers","common","Authorization","register","credentials","logIn","logOut","fetchCurrentUser","_","thunkAPI","getState","persistedToken","auth","rejectWithValue","Registration","email","setEmail","password","setPassword","authOperation","Login","StyledNavLink","NavLink","NavWrapper","nav","getIsLoggedIn","isLoggedIn","getUsername","user","getIsFetchingCurrentUser","isFetchingCurrentUser","Navigation","exact","to","activeClassName","AuthNav","InputName","UserMenu","round","src","fontSize","style","AppBarr","AppBar","position","Home","PrivateRoute","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","App","refreshingCurrentUser","fallback","path","length","createReducer","fulfilled","action","payload","isLoading","pending","rejected","error","actions","combineReducers","initialState","authSlice","createSlice","extraReducers","authOperations","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","contactsReducer","persistReducer","authReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.e013fd5f.chunk.js","sourcesContent":["import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  padding: 20px;\n  text-align: center;\n`\nexport const Header = styled.h2`\n  color: #000000;\n`\nexport const InputName = styled.p`\n  color: #000000;\n  margin: 0;\n`\nexport const SubmitButton = styled.button`\n  background-color: #9db17c;\n  color: white;\n  margin-top: 20px;\n  cursor: pointer;\n`\n\nexport const InputWrapper = styled.div`\n  .wrapper {\n    background-color: #fff;\n    border-radius: 2px;\n    box-shadow: 0px 2px 1px 0px #ddd;\n    box-sizing: border-box;\n    height: 300px;\n    left: 50%;\n    margin: -150px 0 0 -150px;\n    position: absolute;\n    top: 50%;\n    width: 300px;\n  }\n`\nexport const Input = styled.input`\n  background-color: transparent;\n  border: none;\n  border-bottom: 1px solid #777777;\n  color: #000000;\n  box-sizing: border-box;\n  font-size: 18px;\n  padding: 5px 0px;\n  width: 200px;\n  margin-bottom: 15px;\n  &:focus {\n    outline: none;\n  }\n`\n","import axios from 'axios'\nimport { createAsyncThunk } from '@reduxjs/toolkit'\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com'\n\nasync function getContacts() {\n  const contacts = await axios.get(`/contacts`)\n  return contacts.data\n}\n\nexport const fetchContacts = createAsyncThunk(\n  'contacts/fetchContacts',\n  async () => {\n    const contacts = await getContacts()\n    return contacts\n  },\n)\n\nexport const addContact = createAsyncThunk(\n  'contacts/addContact',\n  async (newContact) => {\n    await axios.post(`/contacts`, newContact)\n    return await getContacts()\n  },\n)\n\nexport const deleteContact = createAsyncThunk(\n  'contacts/deleteContact',\n  async (id) => {\n    await axios.delete(`/contacts/${id}`)\n    return await getContacts()\n  },\n)\n","export const contactsItems = (state) => state.contacts.items\nexport const filterItems = (state) => state.contacts.filter\n\nexport const visibleContacts = (state) => {\n  const contacts = contactsItems(state)\n  const filter = filterItems(state)\n\n  const normalizedFilter = filter.toLowerCase()\n  return contacts.filter((contact) =>\n    contact.name.toLowerCase().includes(normalizedFilter),\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Wrapper, Input, InputWrapper } from './Phonebook.styles'\nimport PropTypes from 'prop-types'\nimport { v4 as uuidv4 } from 'uuid'\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as contactsOperations from '../../redux/operations/contacts-operations'\nimport { contactsItems } from '../../redux/selectors/contacts-selectors'\nimport Button from '@material-ui/core/Button'\nimport toast from 'react-hot-toast'\n\nfunction Phonebook() {\n  const dispatch = useDispatch()\n  const contacts = useSelector(contactsItems)\n\n  const [name, setName] = useState('')\n  const [number, setNumber] = useState('')\n\n  useEffect(() => {\n    dispatch(contactsOperations.fetchContacts())\n  }, [dispatch])\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    switch (name) {\n      case 'name':\n        setName(value)\n        break\n      case 'number':\n        setNumber(value)\n        break\n\n      default:\n        break\n    }\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    const randomId = uuidv4()\n    if (\n      contacts.find(\n        (contact) => contact.name.toLowerCase() === name.toLowerCase(),\n      )\n    ) {\n      return alert(`${name} already exists in your contacts`)\n    }\n    dispatch(contactsOperations.addContact({ id: randomId, name, number }))\n    toast.success(`${name} successfully added`)\n    eraseInputs()\n  }\n\n  const eraseInputs = () => {\n    setName('')\n    setNumber('')\n  }\n\n  return (\n    <Wrapper>\n      <form onSubmit={handleSubmit}>\n        <InputWrapper>\n          <Input\n            type=\"text\"\n            name=\"name\"\n            // pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n            required\n            onChange={handleChange}\n            value={name}\n            placeholder=\"Name *\"\n          />\n        </InputWrapper>\n\n        <InputWrapper>\n          <Input\n            type=\"tel\"\n            name=\"number\"\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n            required\n            onChange={handleChange}\n            value={number}\n            placeholder=\"Phone number *\"\n          />\n        </InputWrapper>\n        <Button variant=\"outlined\" color=\"primary\" type=\"submit\">\n          Add contact\n        </Button>\n      </form>\n    </Wrapper>\n  )\n}\n\nPhonebook.propTypes = {\n  name: PropTypes.string,\n  onChange: PropTypes.func,\n  onSubmit: PropTypes.func,\n  number: PropTypes.node,\n}\n\nexport default Phonebook\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  text-align: center;\n`\nexport const List = styled.ul`\n  margin: 0;\n  padding: 0;\n  color: #4b3b40;\n`\nexport const Item = styled.li`\n  display: flex;\n  list-style: none;\n  justify-content: center;\n  align-items: center;\n`\n","import React from 'react'\nimport { Wrapper, List, Item } from './Contacts.styles'\nimport PropTypes from 'prop-types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { visibleContacts } from '../../redux/selectors/contacts-selectors'\nimport * as contactsOperations from '../../redux/operations/contacts-operations'\nimport Delete from '@material-ui/icons/Delete'\nimport toast from 'react-hot-toast'\n\nfunction Contacts() {\n  const dispatch = useDispatch()\n  const contacts = useSelector(visibleContacts)\n\n  const removeContact = (id) => {\n    dispatch(contactsOperations.deleteContact(id))\n    toast.success(`Contact deleted`)\n  }\n\n  return (\n    <Wrapper>\n      <List>\n        {contacts.map(({ id, name, number }) => (\n          <Item key={id}>\n            {name}: {number}\n            <Delete\n              color=\"primary\"\n              onClick={() => removeContact(id)}\n              cursor=\"pointer\"\n              size=\"large\"\n            ></Delete>\n          </Item>\n        ))}\n      </List>\n    </Wrapper>\n  )\n}\n\nContacts.propTypes = {\n  id: PropTypes.node,\n  name: PropTypes.string,\n  number: PropTypes.number,\n}\n\nexport default Contacts\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  text-align: center;\n  padding: 20px;\n`\n\nexport const Input = styled.input`\n  background-color: transparent;\n  border: none;\n  border-bottom: 1px solid #777777;\n  color: #555;\n  box-sizing: border-box;\n  font-size: 18px;\n  padding: 5px 0px;\n  width: 200px;\n  margin-bottom: 15px;\n  &:focus {\n    outline: none;\n  }\n`\n","import { createAction } from '@reduxjs/toolkit'\n\nexport const changeFilter = createAction('contacts/changeFilter')\n","import React from 'react'\nimport { Wrapper, Input } from './Filter.styles'\nimport PropTypes from 'prop-types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as contactsActions from '../../redux/actions/contacts-actions'\nimport { filterItems } from '../../redux/selectors/contacts-selectors'\n\nfunction Filter() {\n  const dispatch = useDispatch()\n  const filter = useSelector(filterItems)\n\n  const handleChange = (e) => {\n    dispatch(contactsActions.changeFilter(e.target.value))\n  }\n\n  return (\n    <Wrapper>\n      <Input\n        type=\"text\"\n        name=\"filter\"\n        onChange={handleChange}\n        value={filter}\n        pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n        title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n        required\n        autoComplete=\"off\"\n        placeholder=\"Find contacts by name\"\n      />\n    </Wrapper>\n  )\n}\n\nFilter.propTypes = {\n  filter: PropTypes.string,\n  onChange: PropTypes.func,\n}\n\nexport default Filter\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  margin: auto;\n  max-width: 1280px;\n`\n","import React from 'react'\nimport { Wrapper } from './Container.styled'\nimport PropTypes from 'prop-types'\n\nfunction Container({ children }) {\n  return (\n    <>\n      <div className=\"background\">\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n      </div>\n      <Wrapper>{children}</Wrapper>\n    </>\n  )\n}\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Container\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  text-align: center;\n  padding: 20px;\n`\nexport const Header = styled.h2`\n  color: #4b3b40;\n`\nexport const InputName = styled.p`\n  color: #82735c;\n  margin: 0;\n`\n\nexport const InputWrapper = styled.div`\n  .wrapper {\n    background-color: #fff;\n    border-radius: 2px;\n    box-shadow: 0px 2px 1px 0px #ddd;\n    box-sizing: border-box;\n    height: 300px;\n    left: 50%;\n    margin: -150px 0 0 -150px;\n    position: absolute;\n    top: 50%;\n    width: 300px;\n  }\n`\nexport const Input = styled.input`\n  background-color: transparent;\n  border: none;\n  border-bottom: 1px solid #777777;\n  color: #555;\n  box-sizing: border-box;\n  font-size: 18px;\n  padding: 5px 0px;\n  width: 200px;\n  margin-bottom: 15px;\n  &:focus {\n    outline: none;\n  }\n`\n","import axios from 'axios'\nimport { createAsyncThunk } from '@reduxjs/toolkit'\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com'\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = ''\n  },\n}\n\nexport const register = createAsyncThunk(\n  'auth/register',\n  async (credentials) => {\n    try {\n      const { data } = await axios.post('/users/signup', credentials)\n      token.set(data.token)\n      return data\n    } catch (error) {}\n  },\n)\n\nexport const logIn = createAsyncThunk('auth/login', async (credentials) => {\n  try {\n    const { data } = await axios.post('/users/login', credentials)\n    token.set(data.token)\n    return data\n  } catch (error) {}\n})\n\nexport const logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    await axios.post('/users/logout')\n    token.unset()\n  } catch (error) {}\n})\n\nexport const fetchCurrentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState()\n    const persistedToken = state.auth.token\n\n    if (!persistedToken) {\n      return thunkAPI.rejectWithValue()\n    }\n    token.set(persistedToken)\n\n    try {\n      const { data } = await axios.get('/users/current')\n      return data\n    } catch (error) {}\n  },\n)\n","import React, { useState } from 'react'\nimport { Input, InputWrapper, Wrapper } from './Registration.styled'\nimport { useDispatch } from 'react-redux'\nimport * as authOperation from '../../redux/auth/auth-operations'\nimport Button from '@material-ui/core/Button'\n\nfunction Registration() {\n  const dispatch = useDispatch()\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    switch (name) {\n      case 'name':\n        setName(value)\n        break\n      case 'email':\n        setEmail(value)\n        break\n      case 'password':\n        setPassword(value)\n        break\n      default:\n        break\n    }\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    dispatch(authOperation.register({ name, email, password }))\n    eraseInputs()\n  }\n\n  const eraseInputs = () => {\n    setName('')\n    setEmail('')\n    setPassword('')\n  }\n\n  return (\n    <Wrapper>\n      <form onSubmit={handleSubmit}>\n        <InputWrapper>\n          <Input\n            type=\"text\"\n            name=\"name\"\n            required\n            onChange={handleChange}\n            value={name}\n            placeholder=\"Name *\"\n          />\n        </InputWrapper>\n\n        <InputWrapper>\n          <Input\n            type=\"email\"\n            name=\"email\"\n            required\n            onChange={handleChange}\n            value={email}\n            placeholder=\"Email *\"\n          />\n        </InputWrapper>\n\n        <InputWrapper>\n          <Input\n            type=\"password\"\n            name=\"password\"\n            required\n            onChange={handleChange}\n            value={password}\n            placeholder=\"Password *\"\n          />\n        </InputWrapper>\n\n        <Button variant=\"outlined\" color=\"primary\" type=\"submit\">\n          Register\n        </Button>\n      </form>\n    </Wrapper>\n  )\n}\n\nexport default Registration\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  text-align: center;\n  padding: 20px;\n`\n\nexport const SubmitButton = styled.button`\n  background-color: #9db17c;\n  color: white;\n  margin-top: 20px;\n  cursor: pointer;\n`\nexport const InputWrapper = styled.div`\n  .wrapper {\n    background-color: #fff;\n    border-radius: 2px;\n    box-shadow: 0px 2px 1px 0px #ddd;\n    box-sizing: border-box;\n    height: 300px;\n    left: 50%;\n    margin: -150px 0 0 -150px;\n    position: absolute;\n    top: 50%;\n    width: 300px;\n  }\n`\nexport const Input = styled.input`\n  background-color: transparent;\n  border: none;\n  border-bottom: 1px solid #777777;\n  color: #555;\n  box-sizing: border-box;\n  font-size: 18px;\n  padding: 5px 0px;\n  width: 200px;\n  margin-bottom: 15px;\n  &:focus {\n    outline: none;\n  }\n`\n","import React, { useState } from 'react'\nimport { InputWrapper, Input, Wrapper } from './Login.styled'\nimport { useDispatch } from 'react-redux'\nimport * as authOperation from '../../redux/auth/auth-operations'\nimport Button from '@material-ui/core/Button'\n\nfunction Login() {\n  const dispatch = useDispatch()\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    switch (name) {\n      case 'email':\n        setEmail(value)\n        break\n      case 'password':\n        setPassword(value)\n        break\n      default:\n        break\n    }\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    dispatch(authOperation.logIn({ email, password }))\n    eraseInputs()\n  }\n\n  const eraseInputs = () => {\n    setEmail('')\n    setPassword('')\n  }\n  return (\n    <Wrapper>\n      <form onSubmit={handleSubmit}>\n        <InputWrapper>\n          <Input\n            type=\"email\"\n            name=\"email\"\n            required\n            onChange={handleChange}\n            value={email}\n            placeholder=\"Email *\"\n          />\n        </InputWrapper>\n        <InputWrapper>\n          <Input\n            type=\"password\"\n            name=\"password\"\n            required\n            onChange={handleChange}\n            value={password}\n            placeholder=\"Password *\"\n          />\n        </InputWrapper>\n\n        <Button variant=\"outlined\" color=\"primary\" type=\"submit\">\n          Log in\n        </Button>\n      </form>\n    </Wrapper>\n  )\n}\n\nexport default Login\n","import styled from '@emotion/styled'\nimport { NavLink } from 'react-router-dom'\n\nexport const StyledNavLink = styled(NavLink)`\n  &.link {\n    text-decoration: none;\n    color: white;\n    /* margin: 10px; */\n    margin-right: 10px;\n    text-shadow: 1px 1px grey;\n    text-align: center;\n    margin-left: 20px;\n  }\n  &.activeLink {\n    font-size: 20px;\n  }\n`\nexport const StyledNav = styled.nav`\n  /* text-align: center; */\n  padding: 10px;\n  border-bottom: solid 1px black;\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n`\n\nexport const NavWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n`\nexport const Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n`\n","export const getIsLoggedIn = (state) => state.auth.isLoggedIn\nexport const getUsername = (state) => state.auth.user.name\nexport const getUserEmail = (state) => state.auth.user.email\nexport const getUserToken = (state) => state.auth.user.token\nexport const getIsFetchingCurrentUser = (state) =>\n  state.auth.isFetchingCurrentUser\n","import React from 'react'\nimport { StyledNavLink, Wrapper } from './Navigation.styled'\nimport { useSelector } from 'react-redux'\nimport { getIsLoggedIn } from '../../redux/auth/auth-selectors'\n\nfunction Navigation() {\n  const isLoggedIn = useSelector(getIsLoggedIn)\n  return (\n    <>\n      <Wrapper>\n        {!isLoggedIn && (\n          <StyledNavLink\n            exact\n            to=\"/\"\n            className=\"link\"\n            activeClassName=\"activeLink\"\n          >\n            Home\n          </StyledNavLink>\n        )}\n\n        {isLoggedIn && (\n          <StyledNavLink\n            to=\"/contacts\"\n            className=\"link\"\n            activeClassName=\"activeLink\"\n          >\n            Contacts\n          </StyledNavLink>\n        )}\n      </Wrapper>\n    </>\n  )\n}\n\nexport default Navigation\n","import React from 'react'\nimport { StyledNavLink, Wrapper } from './Navigation.styled'\n\nfunction AuthNav() {\n  return (\n    <Wrapper>\n      <StyledNavLink to=\"/login\" className=\"link\" activeClassName=\"activeLink\">\n        Login\n      </StyledNavLink>\n      <StyledNavLink\n        to=\"/register\"\n        className=\"link\"\n        activeClassName=\"activeLink\"\n      >\n        Register\n      </StyledNavLink>\n    </Wrapper>\n  )\n}\n\nexport default AuthNav\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  margin-right: 20px;\n`\nexport const InputName = styled.p`\n  margin: 0;\n  margin-right: 5px;\n`\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getUsername } from '../../redux/auth/auth-selectors'\nimport { Wrapper, InputName } from './UserMenu.styled'\nimport Avatar from 'react-avatar'\nimport { logOut } from '../../redux/auth/auth-operations.js'\nimport MeetingRoomIcon from '@material-ui/icons/MeetingRoom'\n\nfunction UserMenu() {\n  const dispatch = useDispatch()\n  const name = useSelector(getUsername)\n\n  return (\n    <Wrapper>\n      <InputName>Welcome, {name}!</InputName>\n      <Avatar round size=\"40\" src=\"https://picsum.photos/200/300\" />\n      <MeetingRoomIcon\n        cursor=\"pointer\"\n        fontSize=\"medium\"\n        style={{ color: 'white' }}\n        onClick={() => dispatch(logOut())}\n      >\n        Logout\n      </MeetingRoomIcon>\n    </Wrapper>\n  )\n}\n\nexport default UserMenu\n","import React from 'react'\nimport Navigation from './Navigation'\nimport AuthNav from './AuthNav'\nimport UserMenu from './UserMenu'\nimport { NavWrapper } from './Navigation.styled'\nimport { useSelector } from 'react-redux'\nimport { getIsLoggedIn } from '../../redux/auth/auth-selectors'\nimport AppBar from '@material-ui/core/AppBar'\n\nfunction AppBarr() {\n  const isLoggedIn = useSelector(getIsLoggedIn)\n  return (\n    <AppBar position=\"sticky\" className=\"Appbar\">\n      <NavWrapper>\n        <Navigation />\n        {isLoggedIn ? <UserMenu /> : <AuthNav />}\n      </NavWrapper>\n    </AppBar>\n  )\n}\n\nexport default AppBarr\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.div`\n  text-align: center;\n  max-width: 640px;\n  margin: 20px auto;\n`\n","import React from 'react'\nimport { Wrapper } from './Home.styled'\n\nfunction Home() {\n  return (\n    <Wrapper>\n      Welcome to Phonebook app! Phonebook app allows you to save your contact\n      names, phone numbers and get them any time by logging in to your account.\n    </Wrapper>\n  )\n}\n\nexport default Home\n","import { useSelector } from 'react-redux'\nimport { Route, Redirect } from 'react-router-dom'\nimport { getIsLoggedIn } from '../redux/auth/auth-selectors'\n\nfunction PrivateRoute({ children, redirectTo = '/', ...routeProps }) {\n  const isLoggedIn = useSelector(getIsLoggedIn)\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  )\n}\n\nexport default PrivateRoute\n","import { useSelector } from 'react-redux'\nimport { Route, Redirect } from 'react-router-dom'\nimport { getIsLoggedIn } from '../redux/auth/auth-selectors'\n\nfunction PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = '/',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(getIsLoggedIn)\n  const shouldRedirect = isLoggedIn && restricted\n\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  )\n}\n\nexport default PublicRoute\n","import React, { Suspense, useEffect } from 'react'\nimport { Switch } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport Phonebook from './components/Phonebook/Phonebook'\nimport Contacts from './components/Contacts/Contacts'\nimport Filter from './components/Filter/Filter'\nimport Container from './components/Container/Container'\nimport Registration from './components/Registration/Registration'\nimport Login from './components/Login/Login'\nimport AppBarr from './components/AppBar/AppBar'\nimport Home from './components/Home/Home'\nimport { contactsItems } from './redux/selectors/contacts-selectors'\nimport { fetchCurrentUser } from './redux/auth/auth-operations'\nimport { getIsFetchingCurrentUser } from './redux/auth/auth-selectors'\nimport { Toaster } from 'react-hot-toast'\n\nimport PrivateRoute from './components/PrivateRoute'\nimport PublicRoute from './components/PublicRoute'\n\nfunction App() {\n  const contacts = useSelector(contactsItems)\n  const dispatch = useDispatch()\n  const refreshingCurrentUser = useSelector(getIsFetchingCurrentUser)\n\n  useEffect(() => {\n    dispatch(fetchCurrentUser())\n  }, [dispatch])\n\n  return (\n    <Container>\n      {!refreshingCurrentUser && (\n        <>\n          <Toaster />\n          <AppBarr />\n          <Suspense fallback={<div>Loading...</div>}>\n            <Switch>\n              <PublicRoute exact path=\"/\">\n                <Home />\n              </PublicRoute>\n\n              <PublicRoute path=\"/register\" restricted>\n                <Registration />\n              </PublicRoute>\n\n              <PublicRoute path=\"/login\" redirectTo=\"/contacts\" restricted>\n                <Login />\n              </PublicRoute>\n\n              <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n                <Phonebook />\n                {contacts.length > 0 && (\n                  <>\n                    {contacts.length > 1 && <Filter />}\n                    <Contacts />\n                  </>\n                )}\n              </PrivateRoute>\n            </Switch>\n          </Suspense>\n        </>\n      )}\n    </Container>\n  )\n}\n\nexport default App\n","import { createReducer } from '@reduxjs/toolkit'\nimport { combineReducers } from 'redux'\nimport { changeFilter } from '../actions/contacts-actions'\nimport {\n  fetchContacts,\n  addContact,\n  deleteContact,\n} from '../operations/contacts-operations'\n\nconst items = createReducer([], {\n  [fetchContacts.fulfilled]: (_, action) => action.payload,\n  [addContact.fulfilled]: (_, action) => action.payload,\n  [deleteContact.fulfilled]: (_, action) => action.payload,\n})\n\nconst isLoading = createReducer(false, {\n  [fetchContacts.pending]: () => true,\n  [fetchContacts.fulfilled]: () => false,\n  [fetchContacts.rejected]: () => false,\n})\n\nconst error = createReducer(null, {\n  [fetchContacts.rejected]: (_, action) => action.payload,\n  [fetchContacts.fulfilled]: () => null,\n\n  [addContact.rejected]: (_, action) => action.payload,\n  [addContact.pending]: () => null,\n\n  [deleteContact.rejected]: (_, action) => action.payload,\n  [deleteContact.pending]: () => null,\n})\n\nconst filter = createReducer('', {\n  [changeFilter]: (_, actions) => actions.payload,\n})\n\nexport default combineReducers({\n  items,\n  isLoading,\n  filter,\n  error,\n})\n","import { createSlice } from '@reduxjs/toolkit'\nimport * as authOperations from './auth-operations'\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingCurrentUser: false,\n}\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user\n      state.token = action.payload.token\n      state.isLoggedIn = true\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user\n      state.token = action.payload.token\n      state.isLoggedIn = true\n    },\n    [authOperations.logOut.fulfilled](state) {\n      state.user = initialState.user\n      state.token = initialState.token\n      state.isLoggedIn = initialState.isLoggedIn\n    },\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isFetchingCurrentUser = true\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload\n      state.isLoggedIn = true\n      state.isFetchingCurrentUser = false\n    },\n    [authOperations.fetchCurrentUser.rejected](state) {\n      state.isFetchingCurrentUser = false\n    },\n  },\n})\n\nexport default authSlice.reducer\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit'\nimport contactsReducer from '../reducers/contacts-reducers'\nimport authReducer from '../auth/auth-slice'\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n]\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n}\n\nexport const store = configureStore({\n  reducer: {\n    contacts: contactsReducer,\n    // auth: authReducer,\n    auth: persistReducer(authPersistConfig, authReducer),\n  },\n  middleware,\n  devTools: process.env.NODE_ENV !== 'production',\n})\n\nexport const persistor = persistStore(store)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App.jsx'\nimport { store, persistor } from './redux/store/store'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter } from 'react-router-dom'\nimport { PersistGate } from 'redux-persist/integration/react'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}